<div class="container">
  <div class="row">
    <div class="col-md-4" style="margin-left: 15%;">
      <h2 >Corbeille</h2>
  </div>
  <div class="col-md-2" style="margin-left: 28%;">
    <!--<app-search></app-search>-->
  </div>
  
  <div class="col">
    <button class="btn"mat-button [matMenuTriggerFor]="menu" #menuTrigger>
      <i class="fas fa-sliders-h" style="font-size:30px;"></i>
    </button>
  
    <mat-menu #menu="matMenu" class="custom-menu">
      <mat-form-field>
        <mat-label>Ligne</mat-label>
        <mat-select (click)="$event.stopPropagation()" (selectionChange)="getOperatorByLigne($event)">
          <mat-option *ngFor="let item of ligne" value="{{item.id}}">{{item.nomLigne}}</mat-option>
          
        </mat-select>
      </mat-form-field>
    
      <mat-form-field>
        <mat-label>	MAT Agent</mat-label>
        <mat-select (click)="$event.stopPropagation()"(selectionChange)="findOperatorByMatricule($event)">
          <mat-option value="all">all</mat-option>

          <mat-option *ngFor="let item1 of filtredoperators"value="{{item1.matriculeOperateur}}">{{item1.matriculeOperateur}}</mat-option>
          
        </mat-select>
      </mat-form-field>
    
      <!-- Button to close the menu -->
      <button mat-menu-item >Close Menu</button>
    </mat-menu>
  
  </div>
  
  </div>
</div>

  
    <div class="container-fluid">
      <div class="row">
        <div class="col offset-md-2">
          <div class="table-responsive"style="max-height: 450px; overflow-y: auto;">
            <table class="table table-striped medium">
              <thead class="thead-light">
                <tr>
                  <th scope="col" style="color: transparent;">aaaa</th>
                  <th scope="col"></th>
                  <th scope="col">MAT Agent</th>
                  <th scope="col">Nom Agent</th>
                  <th scope="col">Etat</th>
                  <th scope="col">Téléphone</th>
                  <th scope="col">Ligne</th>
                  <th scope="col">UAP</th>
                  <th scope="col">Opération</th>
                  <th scope="col">Action</th>
                  <th scope="col">Date d'affectation</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of operators">
                  <td></td>
                  <td>
                    <div class="profil">
                      <img [src]="item.image" alt="Profile Image">
                    </div>
                  </td>
                  <th scope="row">{{item.matriculeOperateur}}</th>
                  <td class="centered">{{item.nomOperateur}}</td>
                  <td>{{item.etat}}</td>
                  <td>{{item.telephone}}</td>
                  <td>{{item.assignments[item.assignments.length - 1].nomLigne}}</td>
                <td>{{item.uap}}</td>
                <td >{{item.assignments[item.assignments.length - 1].operationName}}</td>
                <td (click)="deleteOperatorById(item.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 56 56">
                  <path fill="currentColor" d="m44.524 48.66l1.617-34.265h2.343c.961 0 1.735-.797 1.735-1.758s-.774-1.782-1.735-1.782H38.242V7.34c0-3.352-2.273-5.531-5.882-5.531h-8.766c-3.61 0-5.86 2.18-5.86 5.53v3.516H7.54c-.937 0-1.758.82-1.758 1.782c0 .96.82 1.758 1.758 1.758h2.344L11.5 48.684c.164 3.375 2.39 5.507 5.766 5.507h21.492c3.351 0 5.601-2.156 5.765-5.53M21.484 7.574c0-1.336.985-2.273 2.391-2.273h8.227c1.43 0 2.414.937 2.414 2.273v3.281H21.484Zm-3.867 43.102c-1.36 0-2.367-1.032-2.437-2.39l-1.64-33.891h28.85l-1.546 33.89c-.07 1.383-1.055 2.39-2.438 2.39Zm17.344-4.125c.773 0 1.36-.633 1.383-1.524l.703-24.75c.023-.89-.586-1.547-1.383-1.547c-.726 0-1.336.68-1.36 1.524l-.702 24.773c-.024.844.562 1.524 1.359 1.524m-13.898 0c.797 0 1.382-.68 1.359-1.524l-.703-24.773c-.024-.844-.656-1.524-1.383-1.524c-.797 0-1.383.657-1.36 1.547l.727 24.75c.024.891.586 1.524 1.36 1.524m8.367-1.524V20.254c0-.844-.633-1.524-1.407-1.524c-.773 0-1.43.68-1.43 1.524v24.773c0 .844.657 1.524 1.43 1.524c.75 0 1.407-.68 1.407-1.524"/>
              </svg><!--<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 20 20">
                <g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
                    <path d="M3.944 11.79a.5.5 0 0 1 .141-.277L14.163 1.435a.5.5 0 0 1 .707 0l3.89 3.89a.5.5 0 0 1 0 .706L8.68 16.11a.5.5 0 0 1-.277.14l-4.595.706a.5.5 0 0 1-.57-.57l.705-4.594Zm.964.314l-.577 3.76l3.759-.578l9.608-9.608l-3.181-3.182l-9.61 9.608Z"/>
                    <path d="m15.472 8.173l-3.537-3.53l.707-.708l3.536 3.53l-.706.708Z"/>
                </g>
            </svg>--></td><td>{{item.creationDate}}</td>         
            </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    
    